@import "tailwindcss";
@import '../styles/system.css';

@font-face {
  font-family: 'ChicagoCustom';
  src: url('/fonts/ChicagoFLF.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

:root {
  --bg-color: #555;
  --font-chicago: 'ChicagoCustom', 'Chicago', 'Monaco', monospace;
}

@theme inline {
  --font-sans: var(--font-chicago);
}

body {
  margin: 0;
  overflow: hidden;
  background-color: var(--bg-color);
  font-family: var(--font-chicago), 'Chicago', 'Monaco', monospace;

  /* The Magic Dither Pattern */
  background-image:
    linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000),
    linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000);
  background-size: 4px 4px;
  background-position: 0 0, 2px 2px;

  /* Crucial for retro look */
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: grayscale;
  image-rendering: pixelated;

  /* Retro Cursor */
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M0 0 L0 12 L3 9 L5 14 L7 13 L5 8 L8 8 Z' fill='white' stroke='black' stroke-width='1'/%3E%3C/svg%3E") 0 0, auto;
}

/* Add font-chicago utility class */
.font-chicago {
  font-family: var(--font-chicago), 'Chicago', 'Monaco', monospace;
}

/* Retro link styling using System.css variables */
.retro-link {
  text-decoration: underline;
  padding: 0 0.25rem;
  color: inherit;
}

.retro-link:hover {
  background: var(--secondary);
  color: var(--primary);
  text-decoration: underline;
}

/* Retro cursor states for different interactions */
button, a, .window .title-bar, .desktop-icon {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='20' viewBox='0 0 16 20'%3E%3Cpath d='M8 0 L8 2 L6 2 L6 4 L4 4 L4 6 L2 6 L2 8 L0 8 L0 10 L2 10 L2 12 L4 12 L4 14 L6 14 L6 16 L8 16 L8 18 L10 18 L10 16 L12 16 L12 14 L14 14 L14 12 L16 12 L16 10 L14 10 L14 8 L12 8 L12 6 L10 6 L10 4 L8 4 Z' fill='white' stroke='black' stroke-width='1'/%3E%3C/svg%3E") 8 10, pointer;
}

input[type="text"], textarea {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='20' viewBox='0 0 16 20'%3E%3Crect x='7' y='0' width='2' height='20' fill='black'/%3E%3Crect x='4' y='0' width='8' height='2' fill='black'/%3E%3Crect x='4' y='18' width='8' height='2' fill='black'/%3E%3C/svg%3E") 8 10, text;
}

.window {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3E%3Cpath d='M0 0 L0 12 L3 9 L5 14 L7 13 L5 8 L8 8 Z' fill='white' stroke='black' stroke-width='1'/%3E%3C/svg%3E") 0 0, auto;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .window {
    position: fixed !important;
    width: 100% !important;
    height: auto !important;
    max-height: 80vh !important;
    left: 0 !important;
    right: 0 !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    margin: 0 !important;
  }

  .window .window-pane {
    max-height: 70vh;
  }

  /* Disable custom cursors on mobile/touch devices */
  body, button, a, .window .title-bar, .desktop-icon, input[type="text"], textarea {
    cursor: auto !important;
  }
}
